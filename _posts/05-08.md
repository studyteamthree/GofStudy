# 인프라 정리

아래 링크의 내용을 복기하기 위해 개인적으로 정리한 페이지 입니다.
* https://futurecreator.github.io/2018/11/09/it-infrastructure-basics/
---
## IT 인프라 구조
IT 인프라란 애플리케이션을 가동시키기 위해 필요한 하드웨어나 OS, 미들웨어, 네트워크 등 시스템의 기반을 말한다.

시스템의 요구사항이라 하면 먼저 해당 시스템이 어떤 기능을 하는지를 알아야 하며, 이를 기능적인 요구사항(functional requirement)이라 한다.

이 외에 시스템의 성능, 안정성, 확장성, 보안 등과 같은 요구사항을 비기능적인 요구사항(non-functional requirement) 라고 한다.

IT 인프라는 이러한 비기능적인 요구사항과 관련이 있는 것이다.

---

## 개발자가 인프라를 알아야 하는 이유
IT 기술이 발달하기 전엔 App 개발은 App 엔지니어, 인프라 구축은 인프라 엔지니어가 담당했지만 최근 IDC/서버실에서 직접 관리하던 *On-premise 방식에서 클라우드 방식으로 옮겨가는 추세를 보이고 있다.*

이러한 분산 환경에서는 인프라 엔지니어가 수동으로 관리하는 대신 자동화된 툴을 사용해서 Orchestration 하게 된다. **따라서 인프라 엔지니어 역시 자동화를 위해 코드를 작성하는 능력이 필요하게 되었고, App 엔지니어 또한 환경에 대한 배포, 테스트 등을 직접 할 수 있게 되어 인프라 관련 기초 지식이 필요하게 되었다.**

---

## 구성요소
* 하드웨어(Hardware / HW) : 서버 본체 / 스토리지 / 전원장치 등이 포함되며, 넓은 의미로는 이러한 하드웨어가 설치되는 IDC의 설비도 포함된다.

* 네트워크(Network) : 사용자가 원격으로 접근할 수 있도록 서버를 연결하는 도구들이 포함된다.
**(라우터, 스위치, 방화벽, 케이블, 엑세스 포인트 등)**

* 운영체제(Operating System / OS) : 하드웨어와 네트워크 장비를 제어하기 위한 기본적인 소프트웨어. 리소스나 프로세스를 관리한다.
 - Client OS : 사용자의 편의성에 초점을 맞추고 있다**(Windows, macOS 등)**
 - Server OS : 시스템을 빠르고 안정적으로 실행하는데 초점을 맞추고 있다.*(Linux, Unix, Windows Server 등)*

* 미들웨어(Middleware) : 서버 상에서 서버가 특정 역할을 하도록 기능을 제공하는 소프트웨어.

---

## 온프레미스와 클라우드

### On-premise
온프레미스는 IDC / 서버실에 서버를 두고 직접 관리하는 방식이다.
전통적이며, 지금도 널리 사용되는 방식이다.

집에서 개인적으로 NAS / 서브 PC로 작은 서버를 돌리는 것도 온프레미스라 볼 수 있다.

하지만 서버, 네트워크 장비, OS, 스토리지, 솔루션 등을 구입-설치-관리 하는 것이 관리 측면에선 장점이나 초기 투자비용이 크고 이후 사용 예측량을 가늠하기가 힘들며 한번 구축해놓으면 사용량이 적어도 유지 비용은 그대로 나간다는 단점이 있다.

### Public cloud
인터넷을 통해 불특정 다수에게 서비스 형태로 제공되는 시스템이다.
AWS, GCP 등 프로바이더(제공자)가 인프라를 보유하고 있다.
제공되는 서비스 형태로는 IaaS, PaaS, SaaS 등으로 나눠진다.

### Private cloud
퍼블릭 클라우드에서 이용자를 한정한 형태이다. 기업 내에서 주로 사용하게 된다.

### 클라우드 시스템이 유리한 경우
회사 내 직원용 시스템은 한정된 사용자, 예측 가능한 트래픽으로 온프레미스도 큰 문제가 없다.

하지만 대외 서비스의 경우 트래픽을 예상하기가 쉽지 않다.

이렇게 트래픽 양에 따라 서버 사양이나 네트워크 대역을 가늠하는 것을 사이징(sizing)이라 한다.

사이징은 크게 잡으면 낭비가 되고, 적게 잡으면 단기간에 증설하기 어려워 상당히 어려운 작업이다.

*그래서 트래픽의 변동이 많은 시스템은 클라우드 시스템을 사용하는 것이 좋다. 트래픽에 따라 자동으로 증설해주는 오토 스케일링(Auto Scaling) 기술이 있기 때문이다.*

또한, 클라우드 데이터 센터는 전 세계에 퍼져 있기 때문에 어느 한 곳의 데이터 시스템이 다운되더라도 다른 곳에서 시스템을 계속 운영할 수 있다는 장점이 있다.

### 온프레미스가 유리한 경우
온프레미스와 클라우드 모두 가용성을 보장하지만 개념에서 차이가 있다.

**온프레미스는 서버가 죽지 않는 것을 목표로 하는 반면 클라우드는 많은 인스턴스로 이루어진 분산 환경에서 인스턴스가 죽으면 다른 인스턴스가 빠르게 대체하는 것을 의미한다.**

즉 클라우드를 사용함으로 가용성이 보장되는 것이 아닌, 직접 가용성을 높이도록 설계해야 한다는 것이다.

따라서 *잠시라도 끊어져서는 안되는 시스템이나 클라우드 시스템이 보장하는 것 이상의 가용성이 필요한 시스템은 온프레미스가 유리* 하다.

또한, 기밀성이 높은 데이터도 온프레미스가 유리할 수 있다. 온프레미스의 보안보다 클라우드 프로바이더가 제공하는 보안이 더 좋을 수도 있으나 물리적인 저장 장소를 명확히 알 필요가 있을 때에 온프레미스가 유리하다. 이는 멀티 클라우드 사용 시 각 프로바이더별 보안 정책이 다르기 때문에 보안 표준을 구축하기 어렵다는 것도 이유에 해당한다.

### Hybrid cloud

![alt_text](https://cloud.google.com/images/solutions/manage-hybrid-cloud/diagrams/analytics-hybrid.svg)

이처럼 온프레미스, 클라우드별 장단점이 있기 때문에 함께 사용하기도 한다.

**이를 결정할 때는 특성을 잘 파악하고, 선택의 기준이 명확해야 한다.**

---




---

## 참고 자료
* https://futurecreator.github.io/2018/11/09/it-infrastructure-basics/
